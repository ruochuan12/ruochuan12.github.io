"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([["2839"],{77775:function(e,n,r){r.r(n),r.d(n,{default:()=>m});var s=r(52676),c=r(40453),i=r(20713);let t=r.p+"static/image/vitest-vscode.83873381.png",d=r.p+"static/image/debugger.dad9fea3.png",o=r.p+"static/image/debugger-test.6675f97b.png",l=r.p+"static/image/8.1f44c2d6.gif",a=r.p+"static/image/sourcemap.08e0ffa2.png",h=r.p+"static/image/serve.93fb1941.png",p=r.p+"static/image/chrome-debugger.bec03d83.png",j=r.p+"static/image/chrome-debugger-gif.8d4bd33c.gif";function u(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",blockquote:"blockquote",strong:"strong",pre:"pre",img:"img",h3:"h3",hr:"hr"},(0,c.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"据说90的人不知道可以用测试用例vitest调试开源项目vue3-源码",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#据说90的人不知道可以用测试用例vitest调试开源项目vue3-源码",children:"#"}),"据说90%的人不知道可以用测试用例(Vitest)调试开源项目(Vue3) 源码"]}),"\n",(0,s.jsx)(i.Z,{defaultLocale:"zh-CN"}),"\n",(0,s.jsxs)(n.h2,{id:"1-前言",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-前言",children:"#"}),"1. 前言"]}),"\n",(0,s.jsxs)(n.p,{children:["大家好，我是",(0,s.jsx)(n.a,{href:"https://ruochuan12.github.io",rel:"noopener noreferrer",target:"_blank",children:"若川"}),"。我倾力持续组织了一年",(0,s.jsx)(n.a,{href:"https://juejin.cn/post/7079706017579139102",rel:"noopener noreferrer",target:"_blank",children:"每周大家一起学习200行左右的源码共读活动"}),"，感兴趣的可以",(0,s.jsxs)(n.a,{href:"https://juejin.cn/pin/7005372623400435725",rel:"noopener noreferrer",target:"_blank",children:["点此扫码加我微信 ",(0,s.jsx)(n.code,{children:"ruochuan02"})," 参与"]}),"。另外，想学源码，极力推荐关注我写的专栏",(0,s.jsx)(n.a,{href:"https://juejin.cn/column/6960551178908205093",rel:"noopener noreferrer",target:"_blank",children:"《学习源码整体架构系列》"}),"，目前是掘金关注人数（4.7k+人）第一的专栏，写有20余篇源码文章。"]}),"\n",(0,s.jsxs)(n.h2,{id:"2-看开源项目学习是怎样的步骤",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-看开源项目学习是怎样的步骤",children:"#"}),"2. 看开源项目学习是怎样的步骤？"]}),"\n",(0,s.jsxs)(n.p,{children:["看一个开源仓库，第一步一般是看 ",(0,s.jsx)(n.code,{children:"README.md"})," 和 ",(0,s.jsx)(n.code,{children:"contributing.md"})," 贡献指南文档。"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"README.md"})," 中一般有提到贡献指南文档的链接的。贡献指南文档就是为了让别人参与项目贡献。"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"而贡献指南写了很多关于参与项目开发的信息。比如怎么跑起来，项目目录结构是怎样的。怎么投入开发，需要哪些知识储备等。"}),"\n",(0,s.jsx)(n.p,{children:"第二步的克隆下来。按照贡献指南文档，把项目跑起来。"}),"\n",(0,s.jsxs)(n.h2,{id:"3-如何调试vue3-源码",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-如何调试vue3-源码",children:"#"}),"3. 如何调试",(0,s.jsx)(n.code,{children:"vue3"})," 源码"]}),"\n",(0,s.jsxs)(n.p,{children:["我们这次来学调试 ",(0,s.jsx)(n.code,{children:"vue3"})," 源码，看 ",(0,s.jsx)(n.a,{href:"https://github.com/vuejs/core.git",rel:"noopener noreferrer",target:"_blank",children:"vue3 源码"}),"仓库 ",(0,s.jsx)(n.a,{href:"https://github.com/vuejs/core/blob/main/.github/contributing.md",rel:"noopener noreferrer",target:"_blank",children:"contributing.md"}),"。"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"contributing.md"})," 部分内容"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Development Setup"})}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["You will need ",(0,s.jsx)(n.a,{href:"https://nodejs.org",rel:"noopener noreferrer",target:"_blank",children:"Node.js"})," ",(0,s.jsx)(n.strong,{children:"version 16+"}),", and ",(0,s.jsx)(n.a,{href:"https://pnpm.io",rel:"noopener noreferrer",target:"_blank",children:"PNPM"})," ",(0,s.jsx)(n.strong,{children:"version 7+"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["We also recommend installing ",(0,s.jsx)(n.a,{href:"https://github.com/antfu/ni",rel:"noopener noreferrer",target:"_blank",children:"ni"})," to help switching between repos using different package managers. ",(0,s.jsx)(n.code,{children:"ni"})," also provides the handy ",(0,s.jsx)(n.code,{children:"nr"})," command which running npm scripts easier."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"After cloning the repo, run:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ pnpm i # install the dependencies of the project\n"})}),"\n",(0,s.jsxs)(n.p,{children:["关于上方提到的 ",(0,s.jsx)(n.code,{children:"ni"}),"，我曾经写过源码文章，可供参考。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://juejin.cn/post/7023910122770399269",rel:"noopener noreferrer",target:"_blank",children:"尤雨溪推荐神器 ni ，能替代 npm/yarn/pnpm ？简单好用！源码揭秘！"})}),"\n",(0,s.jsx)(n.p,{children:"从贡献指南中，我们可以得知一些信息，那么先来克隆项目安装依赖。"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/vuejs/core.git\ncd core\n# 安装依赖\npnpm i\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"4-使用-vitest-vscode-扩展的调试方式",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-使用-vitest-vscode-扩展的调试方式",children:"#"}),"4. 使用 vitest vscode 扩展的调试方式"]}),"\n",(0,s.jsxs)(n.p,{children:["安装",(0,s.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=ZixuanChen.vitest-explorer",rel:"noopener noreferrer",target:"_blank",children:"vitest vscode 扩展链接"}),"、",(0,s.jsx)(n.a,{href:"https://github.com/vitest-dev/vscode",rel:"noopener noreferrer",target:"_blank",children:"vitest vscode 扩展 github"})]}),"\n",(0,s.jsxs)(n.p,{children:["安装",(0,s.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=kingwl.vscode-vitest-runner",rel:"noopener noreferrer",target:"_blank",children:"vitest-runner vscode 扩展链接"}),"、",(0,s.jsx)(n.a,{href:"https://github.com/kwai-explore/vscode-vitest-runner",rel:"noopener noreferrer",target:"_blank",children:"vitest-runner vscode 扩展 github"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"vitest-vscode 安装",src:t})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"test",src:d})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"test",src:o})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"// packages/vue/__tests__/index.spec.ts\nimport { vi } from 'vitest'\nimport { EMPTY_ARR } from '@vue/shared'\nimport { createApp, ref, nextTick, reactive } from '../src'\n\ndescribe('compiler + runtime integration', () => {\n  it('should support runtime template compilation', () => {\n    const container = document.createElement('div')\n    const App = {\n      template: `{{ count }}`,\n      data() {\n        return {\n          count: 0\n        }\n      }\n    }\n	// 可以按住 alt + 鼠标左键点击 跳转到函数，提前断点好想断点的地方\n    createApp(App).mount(container)\n    expect(container.innerHTML).toBe(`0`)\n  })\n  // 省略若干代码\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["如下图 ",(0,s.jsx)(n.code,{children:"gif"})," 图所示，就是调试 ",(0,s.jsx)(n.code,{children:"vue"})," 源码了。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"gif 图调试源码",src:l})}),"\n",(0,s.jsxs)(n.p,{children:["关于 ",(0,s.jsx)(n.code,{children:"gif"})," 图中顶部各个按钮的作用，我曾经写过一篇文章",(0,s.jsx)(n.a,{href:"https://juejin.cn/post/7030584939020042254",rel:"noopener noreferrer",target:"_blank",children:"新手向：前端程序员必学基本技能——调试JS代码"})]}),"\n",(0,s.jsxs)(n.p,{children:["通过开源项目的测试用例调试源码，它的优点在于不用打包、更接近源码，测试覆盖率高的开源项目，可以只针对某项功能做针对性调试，看测试用例的过程中也能直接学会使用。",(0,s.jsx)(n.strong,{children:"而这种调试方式，可能是大部分人从未使用过的调试源码方式，因为大多数人可能没学过测试框架。"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Vue"})," 源码的测试用例现在改成了 ",(0,s.jsx)(n.a,{href:"https://cn.vitest.dev/guide/",rel:"noopener noreferrer",target:"_blank",children:"Vitest"}),"。"]}),"\n",(0,s.jsxs)(n.p,{children:["同理可得，如果开源项目是使用 ",(0,s.jsx)(n.code,{children:"Jest"})," 测试框架，可以安装 ",(0,s.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=Orta.vscode-jest",rel:"noopener noreferrer",target:"_blank",children:(0,s.jsx)(n.code,{children:"Jest"})}),"、",(0,s.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=firsttris.vscode-jest-runner",rel:"noopener noreferrer",target:"_blank",children:(0,s.jsx)(n.code,{children:"Jest Runner"})})," ",(0,s.jsx)(n.code,{children:"vscode"})," 插件。"]}),"\n",(0,s.jsxs)(n.h2,{id:"5-通过生成-sourcemap-调试",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-通过生成-sourcemap-调试",children:"#"}),"5. 通过生成 sourcemap 调试"]}),"\n",(0,s.jsxs)(n.h3,{id:"51-如何生成-sourcemap",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#51-如何生成-sourcemap",children:"#"}),"5.1 如何生成 sourcemap"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/vuejs/core/blob/main/.github/contributing.md",rel:"noopener noreferrer",target:"_blank",children:"贡献指南的文档 contributing.md"})," 中有写："]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Build with Source Maps"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Use the ",(0,s.jsx)(n.code,{children:"--sourcemap"})," or ",(0,s.jsx)(n.code,{children:"-s"})," flag to build with source maps. Note this will make the build much slower."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm run build -s\n"})}),"\n",(0,s.jsxs)(n.p,{children:["执行后，所有的都生成了 ",(0,s.jsx)(n.code,{children:"sourcemap"})," 文件，如下图所示。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"vue sourcemap",src:a})}),"\n",(0,s.jsxs)(n.p,{children:["通过 ",(0,s.jsx)(n.code,{children:"sourcemap"})," 文件，可以找到原始文件信息。"]}),"\n",(0,s.jsxs)(n.p,{children:["我们可以在根目录下的 ",(0,s.jsx)(n.code,{children:"package.json"})," 中，看到有一个启动服务的命令。"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "private": true,\n  "version": "3.3.0-alpha.4",\n  "packageManager": "pnpm@7.26.0",\n  "type": "module",\n  "scripts": {\n    "serve": "serve",\n  },\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"这时再在命令行终端，执行这条命令，启动服务。"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm run serve\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"serve",src:h})}),"\n",(0,s.jsxs)(n.p,{children:["浏览器打开 ",(0,s.jsx)(n.code,{children:"http://localhost:5000"})," 可以找到相应路径。"]}),"\n",(0,s.jsxs)(n.p,{children:["比如我们打开这个源码中有的 ",(0,s.jsx)(n.code,{children:"todomvc"})," 例子，来调试。\n",(0,s.jsx)(n.code,{children:"http://localhost:64085/packages/vue/examples/composition/todomvc"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"// packages/vue/examples/composition/todomvc.html\n<script src=\"../../dist/vue.global.js\"><\/script>\n<script>\nconst { createApp, reactive, computed, watchEffect, onMounted, onUnmounted } = Vue\n// 省略若干代码\n// 我们可以在这里断点调试\ncreateApp({\n  setup () {\n    // 省略若干代码\n}).mount('#app')\n"})}),"\n",(0,s.jsxs)(n.p,{children:["文件开头首先引入了文件",(0,s.jsx)(n.code,{children:"vue.global.js"}),"，其底部注释表明了 ",(0,s.jsx)(n.code,{children:"sourcemap"})," 文件 ",(0,s.jsx)(n.code,{children:"URL"}),"。"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// ../../dist/vue.global.js\nvar Vue = (function (exports) {})({});\n//# sourceMappingURL=vue.global.js.map\n"})}),"\n",(0,s.jsxs)(n.p,{children:["我们可以在 ",(0,s.jsx)(n.code,{children:"createApp"})," 函数处断点调试，",(0,s.jsx)(n.code,{children:"createApp"})," 函数里再断点调试，就是调试原来本身的源码。也和上文提到的",(0,s.jsx)(n.code,{children:"vitest vscode 插件"})," 一样调试。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"chrome-debugger",src:p})}),"\n",(0,s.jsxs)(n.p,{children:["调试如下图 ",(0,s.jsx)(n.code,{children:"gif"})," 图所示。"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"chrome debugger gif",src:j})}),"\n",(0,s.jsxs)(n.p,{children:["至此，我们就也学会了根据项目中提供的命令通过生成 ",(0,s.jsx)(n.code,{children:"sourcemap"})," 文件和调试源码。"]}),"\n",(0,s.jsxs)(n.h3,{id:"52-为何贡献指南中写的方式就能生成-sourcemap-",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#52-为何贡献指南中写的方式就能生成-sourcemap-",children:"#"}),"5.2 为何贡献指南中写的方式就能生成 sourcemap ？"]}),"\n",(0,s.jsxs)(n.p,{children:["有小伙伴可能会好奇，为啥贡献指南，",(0,s.jsx)(n.code,{children:"pnpm run build"})," 编译加参数 ",(0,s.jsx)(n.code,{children:"--sourcemap 或者 -s"})," 就能生成 ",(0,s.jsx)(n.code,{children:"sourcemap"})," 呢。我们接下来探究下为啥 ",(0,s.jsx)(n.code,{children:"--sourcemap"})," 或者 ",(0,s.jsx)(n.code,{children:"-s"})," 就能生成 ",(0,s.jsx)(n.code,{children:"sourcemap"})," 呢。"]}),"\n",(0,s.jsxs)(n.p,{children:["查看项目根目录下的 ",(0,s.jsx)(n.code,{children:"package.json"})," 的文件，我们可以得知：",(0,s.jsx)(n.code,{children:"build"})," 命令，实际执行的是",(0,s.jsx)(n.code,{children:"node scripts/build.js"}),"。"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "private": true,\n  "version": "3.3.0-alpha.4",\n  "packageManager": "pnpm@7.26.0",\n  "type": "module",\n  "scripts": {\n    "dev": "node scripts/dev.js",\n    "build": "node scripts/build.js",\n  },\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["找到这个文件 ",(0,s.jsx)(n.code,{children:"scripts/build.js"}),"。"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// scripts/build.js\nimport minimist from 'minimist'\nimport execa from 'execa'\n\nconst args = minimist(process.argv.slice(2))\n\nconst sourceMap = args.sourcemap || args.s\n\nasync function build(target) {\n  //   省略若干代码\n  const env =\n    (pkg.buildOptions && pkg.buildOptions.env) ||\n    (devOnly ? 'development' : 'production')\n  await execa(\n    'rollup',\n    [\n      '-c',\n      '--environment',\n      [\n        `COMMIT:${commit}`,\n        `NODE_ENV:${env}`,\n        `TARGET:${target}`,\n        formats ? `FORMATS:${formats}` : ``,\n        prodOnly ? `PROD_ONLY:true` : ``,\n        sourceMap ? `SOURCE_MAP:true` : ``\n      ]\n        .filter(Boolean)\n        .join(',')\n    ],\n    { stdio: 'inherit' }\n  )\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/minimistjs/minimist",rel:"noopener noreferrer",target:"_blank",children:"minimist"})," 是解析命令行参数。\n",(0,s.jsx)(n.a,{href:"https://github.com/sindresorhus/execa",rel:"noopener noreferrer",target:"_blank",children:"execa"})," 是子进程执行命令。"]}),"\n",(0,s.jsxs)(n.p,{children:["相当于在命令行终端执行\n",(0,s.jsx)(n.a,{href:"https://rollupjs.org/guide/en",rel:"noopener noreferrer",target:"_blank",children:"rollup"})," 打包：",(0,s.jsx)(n.code,{children:"rollup -c --environment COMMIT:650f5c2,NODE_ENV:production,TARGET:compiler-ssr,SOURCE_MAP:true"})]}),"\n",(0,s.jsxs)(n.p,{children:["看到这里，我们得知原来参数 ",(0,s.jsx)(n.code,{children:"--sourcemap"})," 或者 ",(0,s.jsx)(n.code,{children:"-s"})," 控制的是 ",(0,s.jsx)(n.code,{children:"rollup"})," 的 ",(0,s.jsx)(n.code,{children:"SOURCE_MAP:true"})," 参数，从而控制是否生成 ",(0,s.jsx)(n.code,{children:"sourcemap"})," 文件。"]}),"\n",(0,s.jsxs)(n.h2,{id:"6-总结",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-总结",children:"#"}),"6. 总结"]}),"\n",(0,s.jsx)(n.p,{children:"行文至此，我们来总结下。"}),"\n",(0,s.jsxs)(n.p,{children:["看开源项目一定要先看官方的 ",(0,s.jsx)(n.code,{children:"README.md"})," 和贡献指南 ",(0,s.jsx)(n.code,{children:"contributing.md"}),"。"]}),"\n",(0,s.jsx)(n.p,{children:"这是开源项目维护者为广大想参与贡献的开发者写的。"}),"\n",(0,s.jsxs)(n.p,{children:["我们通过学会了安装 ",(0,s.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=ZixuanChen.vitest-explorer",rel:"noopener noreferrer",target:"_blank",children:"vitest vscode 扩展"}),"、",(0,s.jsx)(n.a,{href:"https://github.com/kwai-explore/vscode-vitest-runner",rel:"noopener noreferrer",target:"_blank",children:"vitest-runner vscode 扩展 github"}),"，根据测试用例，指定相应的测试用例调试相应的源码。"]}),"\n",(0,s.jsxs)(n.p,{children:["测试用例非常重要。而且 ",(0,s.jsx)(n.a,{href:"https://cn.vitest.dev/guide/",rel:"noopener noreferrer",target:"_blank",children:"vitest"})," 是中文文档，相对容易学习，非常值得我们学习。"]}),"\n",(0,s.jsxs)(n.p,{children:["另外，我们学会了如何生成 ",(0,s.jsx)(n.code,{children:"sourcemap"}),"，通过项目提供的例子，调试 ",(0,s.jsx)(n.code,{children:"Vue3"})," 的源码。\n同时，还探究了为何能够编译时传参就能控制是否编译生成 ",(0,s.jsx)(n.code,{children:"sourcemap"})," 文件，本质是利用命令行参数，最终控制 ",(0,s.jsx)(n.code,{children:"rollup"})," 打包工具的 SOURCE_MAP:true 参数。"]}),"\n",(0,s.jsx)(n.p,{children:"这篇文章整体比较简单，主要在于是否知道这两种调试源码的方式。如果把看源码比作登山，那么学会调试可以说是找到山的入口和爬山的方式。真正爬山，才是更难的时候。"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"如果看完有收获，欢迎点赞、评论、分享支持。你的支持和肯定，是我写作的动力"}),"。"]}),"\n",(0,s.jsxs)(n.p,{children:["最后可以持续关注我",(0,s.jsx)(n.a,{href:"https://juejin.cn/user/1415826704971918",rel:"noopener noreferrer",target:"_blank",children:"@若川"}),"。想学源码，推荐关注目前4.7K+人关注的掘金专栏",(0,s.jsx)(n.a,{href:"https://juejin.cn/column/6960551178908205093",rel:"noopener noreferrer",target:"_blank",children:"《学习源码整体架构系列》"}),"。"]}),"\n",(0,s.jsxs)(n.p,{children:["我倾力持续组织了一年",(0,s.jsx)(n.a,{href:"https://juejin.cn/post/7079706017579139102",rel:"noopener noreferrer",target:"_blank",children:"每周大家一起学习200行左右的源码共读活动"}),"，感兴趣的可以",(0,s.jsxs)(n.a,{href:"https://juejin.cn/pin/7005372623400435725",rel:"noopener noreferrer",target:"_blank",children:["点此扫码加我微信 ",(0,s.jsx)(n.code,{children:"ruochuan02"})," 参与"]}),"。"]})]})}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(u,e)})):u(e)}let m=x;x.__RSPRESS_PAGE_META={},x.__RSPRESS_PAGE_META["vue-debugger%2Findex.md"]={toc:[{id:"1-前言",text:"1. 前言",depth:2},{id:"2-看开源项目学习是怎样的步骤",text:"2. 看开源项目学习是怎样的步骤？",depth:2},{id:"3-如何调试vue3-源码",text:"3. 如何调试`vue3` 源码",depth:2},{id:"4-使用-vitest-vscode-扩展的调试方式",text:"4. 使用 vitest vscode 扩展的调试方式",depth:2},{id:"5-通过生成-sourcemap-调试",text:"5. 通过生成 sourcemap 调试",depth:2},{id:"51-如何生成-sourcemap",text:"5.1 如何生成 sourcemap",depth:3},{id:"52-为何贡献指南中写的方式就能生成-sourcemap-",text:"5.2 为何贡献指南中写的方式就能生成 sourcemap ？",depth:3},{id:"6-总结",text:"6. 总结",depth:2}],title:"据说90%的人不知道可以用测试用例(Vitest)调试开源项目(Vue3) 源码",headingTitle:"据说90%的人不知道可以用测试用例(Vitest)调试开源项目(Vue3) 源码",frontmatter:{}}},20713:function(e,n,r){r.d(n,{Z:()=>o});var s=r(52676),c=r(75271),i=r(92815);r(18544);let t={"zh-CN":e=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${e.minutes>=1?`${Math.ceil(e.minutes)} \u{5206}\u{949F}`:"小于 1 分钟"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function d(e,n,r){let s=Object.keys(t).includes(n)?n:r;return t[s](e)}let o=e=>{let{defaultLocale:n="en-US"}=e,r=(0,i.Vi)().page.readingTimeData,t=(0,i.Jr)(),o=(0,i.e7)(),[l,a]=(0,c.useState)(d(r,t,n));return(0,c.useEffect)(()=>{a(d(r,t,n))},[t,r]),(0,s.jsx)("span",{"data-dark":String(o),className:"rp-reading-time",children:l})}}}]);