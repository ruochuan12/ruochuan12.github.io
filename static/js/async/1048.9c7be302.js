"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([["1048"],{63810:function(e,n,s){s.r(n),s.d(n,{default:()=>x});var r=s(52676),i=s(40453),c=s(20713);let t=s.p+"static/image/debugger.3f9011a3.png",a=s.p+"static/image/element-ui-main.332c4992.png",l=s.p+"static/image/all-change.fd391183.png",o=s.p+"static/image/components.85c58bcc.png",d=s.p+"static/image/packages.6b07e2d6.png",h=s.p+"static/image/nav.28ac89de.png",m=s.p+"static/image/nav-site.81b8043b.png";function p(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",blockquote:"blockquote",p:"p",code:"code",pre:"pre",h3:"h3",strong:"strong",img:"img"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"每次新增页面复制粘贴100多行源码的-element-ui-新增组件功能告诉你减少重复工作",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#每次新增页面复制粘贴100多行源码的-element-ui-新增组件功能告诉你减少重复工作",children:"#"}),"每次新增页面复制粘贴？100多行源码的 element-ui 新增组件功能告诉你减少重复工作"]}),"\n",(0,r.jsx)(c.Z,{defaultLocale:"zh-CN"}),"\n",(0,r.jsxs)(n.h2,{id:"1-前言",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-前言",children:"#"}),"1. 前言"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["大家好，我是",(0,r.jsx)(n.a,{href:"https://ruochuan12.github.io",rel:"noopener noreferrer",target:"_blank",children:"若川"}),"。最近组织了",(0,r.jsx)(n.a,{href:"https://juejin.cn/pin/7005372623400435725",rel:"noopener noreferrer",target:"_blank",children:"源码共读活动"}),"，感兴趣的可以加我微信 ",(0,r.jsx)(n.a,{href:"https://juejin.cn/pin/7005372623400435725",rel:"noopener noreferrer",target:"_blank",children:"ruochuan12"})," 参与，或者关注我的",(0,r.jsx)(n.a,{href:"https://ruochuan12.github.io",rel:"noopener noreferrer",target:"_blank",children:"公众号若川视野"}),"，回复“源码”参与。已进行三个月，大家一起交流学习，共同进步，很多人都表示收获颇丰。"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["想学源码，极力推荐之前我写的",(0,r.jsx)(n.a,{href:"https://juejin.cn/column/6960551178908205093",rel:"noopener noreferrer",target:"_blank",children:"《学习源码整体架构系列》"})," 包含",(0,r.jsx)(n.code,{children:"jQuery"}),"、",(0,r.jsx)(n.code,{children:"underscore"}),"、",(0,r.jsx)(n.code,{children:"lodash"}),"、",(0,r.jsx)(n.code,{children:"vuex"}),"、",(0,r.jsx)(n.code,{children:"sentry"}),"、",(0,r.jsx)(n.code,{children:"axios"}),"、",(0,r.jsx)(n.code,{children:"redux"}),"、",(0,r.jsx)(n.code,{children:"koa"}),"、",(0,r.jsx)(n.code,{children:"vue-devtools"}),"、",(0,r.jsx)(n.code,{children:"vuex4"}),"、",(0,r.jsx)(n.code,{children:"koa-compose"}),"、",(0,r.jsx)(n.code,{children:"vue 3.2 发布"}),"、",(0,r.jsx)(n.code,{children:"vue-this"}),"、",(0,r.jsx)(n.code,{children:"create-vue"}),"、",(0,r.jsx)(n.code,{children:"玩具vite"}),"等10余篇源码文章。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/ruochuan12/element-analysis.git",rel:"noopener noreferrer",target:"_blank",children:"本文仓库 element-analysis，求个star^_^"})}),"\n",(0,r.jsxs)(n.p,{children:["最近组织了",(0,r.jsx)(n.a,{href:"https://juejin.cn/pin/7005372623400435725",rel:"noopener noreferrer",target:"_blank",children:"源码共读活动"}),"，大家一起学习源码，每周学习200行左右的源码，已进行到13期。于是搜寻各种值得我们学习，且代码行数不多的源码。"]}),"\n",(0,r.jsxs)(n.p,{children:["其中 ",(0,r.jsx)(n.a,{href:"https://github.com/ElemeFE/element",rel:"noopener noreferrer",target:"_blank",children:"element-ui"})," ",(0,r.jsx)(n.a,{href:"https://github.com/ElemeFE/element/blob/dev/build/bin/new.js",rel:"noopener noreferrer",target:"_blank",children:"新建组件的源码"})," 仅 ",(0,r.jsx)(n.code,{children:"100多行"}),"，非常值得我们学习。"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["可以通过 github1s.com 在线 VSCode 打开：",(0,r.jsx)(n.a,{href:"https://github1s.com/ElemeFE/element/blob/dev/build/bin/new.js",rel:"noopener noreferrer",target:"_blank",children:"https://github1s.com/ElemeFE/element/blob/dev/build/bin/new.js"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"阅读本文，你将学到："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"1. 学会调试学习源码\n2. element-ui 如何初始化新的组件\n3. 可以学以致用应用到自己开发的项目中，比如新增页面等\n4. 等等\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"2-环境准备",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-环境准备",children:"#"}),"2. 环境准备"]}),"\n",(0,r.jsxs)(n.h3,{id:"21-克隆",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#21-克隆",children:"#"}),"2.1 克隆"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 推荐克隆我的项目，保证与文章同步\ngit clone https://github.com/ruochuan12/element-analysis.git\n# npm i -g yarn\ncd element-analysis/element && npm run dev\n\n# 或者克隆官方项目\ngit clone https://github.com/ElemeFE/element.git\n# npm i -g yarn\ncd element && npm run dev\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"22-看开源项目的-readme-和贡献文档等",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#22-看开源项目的-readme-和贡献文档等",children:"#"}),"2.2 看开源项目的 README 和贡献文档等"]}),"\n",(0,r.jsxs)(n.p,{children:["看开源项目，我们一般先看",(0,r.jsx)(n.code,{children:"README"}),"，",(0,r.jsx)(n.a,{href:"https://github.com/ElemeFE/element",rel:"noopener noreferrer",target:"_blank",children:"README.md"})," 中一般有",(0,r.jsx)(n.a,{href:"https://github.com/ElemeFE/element/blob/master/.github/CONTRIBUTING.zh-CN.md",rel:"noopener noreferrer",target:"_blank",children:"贡献指南"}),"。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"开发环境搭建"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["首先你需要 Node.js 4+，yarn 和 npm 3+。注意：我们使用 yarn 进行依赖版本的锁定，所以请不要使用 ",(0,r.jsx)(n.code,{children:"npm install"})," 安装依赖。"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"git clone git@github.com:ElemeFE/element.git\nnpm run dev\n\n# open http://localhost:8085\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"package.json"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n    "script": {\n        "bootstrap": "yarn || npm i",\n        "build:file": "node build/bin/iconInit.js & node build/bin/build-entry.js & node build/bin/i18n.js & node build/bin/version.js",\n        "dev": "npm run bootstrap && npm run build:file && cross-env NODE_ENV=development webpack-dev-server --config build/webpack.demo.js & node build/bin/template.js",\n    },\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["在 ",(0,r.jsx)(n.code,{children:"npm run dev"})," 时是先执行了 ",(0,r.jsx)(n.code,{children:"npm run bootstrap"})," => ",(0,r.jsx)(n.code,{children:"yarn || npm i"})," 命令，安装好了依赖。"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"npm run build:file"})," 应该留着下一篇文章讲述。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"组件开发规范"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["通过 ",(0,r.jsx)(n.code,{children:"make new"})," 创建组件目录结构，包含测试代码、入口文件、文档\n如果包含父子组件，需要更改目录结构，参考 ",(0,r.jsx)(n.code,{children:"Button"}),"\n组件内如果依赖了其他组件，需要在当前组件内引入，参考 ",(0,r.jsx)(n.code,{children:"Select"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"make"})," 命令的配置对应根目录 ",(0,r.jsx)(n.code,{children:"Makefile"}),"。"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"# element/Makefile\nnew:\n	node build/bin/new.js $(filter-out $@,$(MAKECMDGOALS))\n"})}),"\n",(0,r.jsxs)(n.p,{children:["通过查看 ",(0,r.jsx)(n.code,{children:"Makefile"})," 文件我们知道了",(0,r.jsx)(n.code,{children:"make new"}),"命令对应的是： ",(0,r.jsx)(n.code,{children:"node build/bin.new.js"}),"。"]}),"\n",(0,r.jsx)(n.p,{children:"接着我们来调试源码。"}),"\n",(0,r.jsxs)(n.h3,{id:"23-调试源码",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#23-调试源码",children:"#"}),"2.3 调试源码"]}),"\n",(0,r.jsxs)(n.p,{children:["在最新版的 ",(0,r.jsx)(n.code,{children:"VSCode"})," 中，",(0,r.jsx)(n.code,{children:"auto attach"})," 功能，默认支持智能调试，如果发现不支持，可以通过快捷键 ",(0,r.jsx)(n.code,{children:"ctrl + shift + p"})," 查看是否启用。"]}),"\n",(0,r.jsxs)(n.p,{children:["ctrl + ",(0,r.jsx)(n.code,{children:"快捷键打开终端。输入如下命令，即可调试"}),"build/bin/new.js`。"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"make new ruochuan 若川组件\n# Ubuntu 和 Mac 支持 make 命令\n# 不支持可以用 node\nnode build/bin/new.js ruochuan 若川组件\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"调试截图",src:t})}),"\n",(0,r.jsxs)(n.p,{children:["更多调试细节可以看我的这篇文章：",(0,r.jsx)(n.a,{href:"https://juejin.cn/post/7030584939020042254",rel:"noopener noreferrer",target:"_blank",children:"新手向：前端程序员必学基本技能——调试JS代码"})]}),"\n",(0,r.jsx)(n.p,{children:"接着我们按调试来看主流程。"}),"\n",(0,r.jsxs)(n.h2,{id:"3-主流程",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-主流程",children:"#"}),"3. 主流程"]}),"\n",(0,r.jsxs)(n.p,{children:["我看完 ",(0,r.jsx)(n.code,{children:"build/bin/new.js"})," 源码画了一张流程图。毕竟俗话说得好，一图胜千言。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"流程图",src:a})}),"\n",(0,r.jsxs)(n.p,{children:["同时执行完命令后也新增和修改了若干文件，",(0,r.jsx)(n.code,{children:"git diff"})," 如下图所示。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"所有修改的文件",src:l})}),"\n",(0,r.jsxs)(n.p,{children:["接着我们来看 ",(0,r.jsx)(n.code,{children:"build/bin/new.js"})," 文件。"]}),"\n",(0,r.jsxs)(n.h3,{id:"31-文件开头判断",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#31-文件开头判断",children:"#"}),"3.1 文件开头判断"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"'use strict';\n\nconsole.log();\nprocess.on('exit', () => {\n  console.log();\n});\n\n// 第一个参数没传递报错，退出进程\nif (!process.argv[2]) {\n  console.error('[组件名]必填 - Please enter new component name');\n  process.exit(1);\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["关于 ",(0,r.jsx)(n.code,{children:"process"})," 对象可以查看 ",(0,r.jsx)(n.a,{href:"http://javascript.ruanyifeng.com/nodejs/process.html",rel:"noopener noreferrer",target:"_blank",children:"阮一峰老师 process 对象"})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"process.argv"})," 属性返回一个数组，由命令行执行脚本时的各个参数组成。它的第一个成员总是 ",(0,r.jsx)(n.code,{children:"node"}),"，第二个成员是脚本文件名，其余成员是脚本文件的参数。"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"接着我们来看，引用的依赖等。"}),"\n",(0,r.jsxs)(n.h3,{id:"32-引用依赖等",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#32-引用依赖等",children:"#"}),"3.2 引用依赖等"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// 路径模块\nconst path = require('path');\n// 文件模块\nconst fs = require('fs');\n// 保存文件\nconst fileSave = require('file-save');\n// 转驼峰\nconst uppercamelcase = require('uppercamelcase');\n// 第一个参数 组件名\nconst componentname = process.argv[2];\n// 第二个参数 组件中文名\nconst chineseName = process.argv[3] || componentname;\n// 转驼峰\nconst ComponentName = uppercamelcase(componentname);\n// package 路径\nconst PackagePath = path.resolve(__dirname, '../../packages', componentname);\n// const Files = [];\n"})}),"\n",(0,r.jsxs)(n.p,{children:["其中 ",(0,r.jsx)(n.a,{href:"https://npm.im/file-save",rel:"noopener noreferrer",target:"_blank",children:"file-save"})," 依赖，顾名思义，且非常关键。我们可以在 ",(0,r.jsx)(n.code,{children:"node_module/file-save"})," 查看一些信息。\n也可以在 ",(0,r.jsx)(n.code,{children:"https://npmjs.com"})," 搜索其信息。"]}),"\n",(0,r.jsx)(n.p,{children:"接着，我们来看文件模板。定义了若干文件模板，方便写入到项目中。"}),"\n",(0,r.jsxs)(n.h3,{id:"33-文件模板-files",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#33-文件模板-files",children:"#"}),"3.3 文件模板 Files"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const Files = [\n  {\n    filename: 'index.js',\n    content: `import ${ComponentName} from './src/main';\n\n/* istanbul ignore next */\n${ComponentName}.install = function(Vue) {\n  Vue.component(${ComponentName}.name, ${ComponentName});\n};\n\nexport default ${ComponentName};`\n  },\n  {\n    filename: 'src/main.vue',\n    content: `<template>\n  <div class=\"el-${componentname}\"></div>\n</template>\n\n<script>\nexport default {\n  name: 'El${ComponentName}'\n};\n<\/script>`\n  },\n//   省略其他\n];\n"})}),"\n",(0,r.jsx)(n.p,{children:"接着我们继续看添加对应的路径到组件 json 配置中。"}),"\n",(0,r.jsxs)(n.h3,{id:"34-把-componentname-添加到-componentsjson",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#34-把-componentname-添加到-componentsjson",children:"#"}),"3.4 把 componentname 添加到 components.json"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// 添加到 components.json\nconst componentsFile = require('../../components.json');\nif (componentsFile[componentname]) {\n  console.error(`${componentname} 已存在.`);\n  process.exit(1);\n}\ncomponentsFile[componentname] = `./packages/${componentname}/index.js`;\nfileSave(path.join(__dirname, '../../components.json'))\n  .write(JSON.stringify(componentsFile, null, '  '), 'utf8')\n  .end('\\n');\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"添加到 components.json",src:o})}),"\n",(0,r.jsxs)(n.h3,{id:"35-把-componentnamescss-添加到-indexscss",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#35-把-componentnamescss-添加到-indexscss",children:"#"}),"3.5 把 componentname.scss 添加到 index.scss"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// 添加到 index.scss\nconst sassPath = path.join(__dirname, '../../packages/theme-chalk/src/index.scss');\nconst sassImportText = `${fs.readFileSync(sassPath)}@import \"./${componentname}.scss\";`;\nfileSave(sassPath)\n  .write(sassImportText, 'utf8')\n  .end('\\n');\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"36-把-componentnamedts-添加到-element-uidts",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#36-把-componentnamedts-添加到-element-uidts",children:"#"}),"3.6 把 componentname.d.ts 添加到 element-ui.d.ts"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// 添加到 element-ui.d.ts\nconst elementTsPath = path.join(__dirname, '../../types/element-ui.d.ts');\n\nlet elementTsText = `${fs.readFileSync(elementTsPath)}\n/** ${ComponentName} Component */\nexport class ${ComponentName} extends El${ComponentName} {}`;\n\nconst index = elementTsText.indexOf('export') - 1;\nconst importString = `import { El${ComponentName} } from './${componentname}'`;\n\nelementTsText = elementTsText.slice(0, index) + importString + '\\n' + elementTsText.slice(index);\n\nfileSave(elementTsPath)\n  .write(elementTsText, 'utf8')\n  .end('\\n');\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"37-创建-package",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#37-创建-package",children:"#"}),"3.7 创建 package"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// const PackagePath = path.resolve(__dirname, '../../packages', componentname);\n// 创建 package\nFiles.forEach(file => {\n  fileSave(path.join(PackagePath, file.filename))\n    .write(file.content, 'utf8')\n    .end('\\n');\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"创建的文件",src:d})}),"\n",(0,r.jsxs)(n.h3,{id:"38-把新增的组件添加到-navconfigjson",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#38-把新增的组件添加到-navconfigjson",children:"#"}),"3.8 把新增的组件添加到 nav.config.json"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const navConfigFile = require('../../examples/nav.config.json');\n\nObject.keys(navConfigFile).forEach(lang => {\n  let groups = navConfigFile[lang][4].groups;\n  groups[groups.length - 1].list.push({\n    path: `/${componentname}`,\n    title: lang === 'zh-CN' && componentname !== chineseName\n      ? `${ComponentName} ${chineseName}`\n      : ComponentName\n  });\n});\n\nfileSave(path.join(__dirname, '../../examples/nav.config.json'))\n  .write(JSON.stringify(navConfigFile, null, '  '), 'utf8')\n  .end('\\n');\n\nconsole.log('DONE!');\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"nav",src:h})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"nav.config.json"})," 的修改，新增的组件显示在导航这里。其中有四次修改是对应四种语言。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"nav 导航网站显示",src:m})}),"\n",(0,r.jsxs)(n.h2,{id:"4-总结",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-总结",children:"#"}),"4. 总结"]}),"\n",(0,r.jsx)(n.p,{children:"再次放出开头的流程图。"}),"\n",(0,r.jsxs)(n.p,{children:["通过看 ",(0,r.jsx)(n.a,{href:"https://github.com/ElemeFE/element",rel:"noopener noreferrer",target:"_blank",children:"element-ui"})," ",(0,r.jsx)(n.a,{href:"https://github1s.com/ElemeFE/element/blob/dev/build/bin/new.js",rel:"noopener noreferrer",target:"_blank",children:"新建组件的源码"})," 流程，我们学到了 ",(0,r.jsx)(n.a,{href:"https://npm.im/file-save",rel:"noopener noreferrer",target:"_blank",children:"file-save"})," 这么方便的写入文件的库等。"]}),"\n",(0,r.jsx)(n.p,{children:"同时给我们启发：公司项目新建页面时，或者组件库新增组件时，是不是可以类似做到的，一条命令省去一些繁杂重复的操作。"}),"\n",(0,r.jsxs)(n.p,{children:["建议读者克隆",(0,r.jsx)(n.a,{href:"https://github.com/ruochuan12/element-analysis.git",rel:"noopener noreferrer",target:"_blank",children:"我的仓库"}),"动手实践调试源码学习。"]}),"\n",(0,r.jsxs)(n.p,{children:["后续也可以查看 ",(0,r.jsx)(n.a,{href:"https://npm.im/file-save",rel:"noopener noreferrer",target:"_blank",children:"file-save"})," 源码实现等。"]}),"\n",(0,r.jsxs)(n.p,{children:["最后可以持续关注我@若川。欢迎加我微信 ",(0,r.jsx)(n.a,{href:"https://juejin.cn/pin/7005372623400435725",rel:"noopener noreferrer",target:"_blank",children:"ruochuan12"})," 交流，参与 ",(0,r.jsx)(n.a,{href:"https://juejin.cn/pin/7005372623400435725",rel:"noopener noreferrer",target:"_blank",children:"源码共读"})," 活动，大家一起学习源码，共同进步。"]})]})}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(p,e)})):p(e)}let x=j;j.__RSPRESS_PAGE_META={},j.__RSPRESS_PAGE_META["element-new%2Findex.md"]={toc:[{id:"1-前言",text:"1. 前言",depth:2},{id:"2-环境准备",text:"2. 环境准备",depth:2},{id:"21-克隆",text:"2.1 克隆",depth:3},{id:"22-看开源项目的-readme-和贡献文档等",text:"2.2 看开源项目的 README 和贡献文档等",depth:3},{id:"23-调试源码",text:"2.3 调试源码",depth:3},{id:"3-主流程",text:"3. 主流程",depth:2},{id:"31-文件开头判断",text:"3.1 文件开头判断",depth:3},{id:"32-引用依赖等",text:"3.2 引用依赖等",depth:3},{id:"33-文件模板-files",text:"3.3 文件模板 Files",depth:3},{id:"34-把-componentname-添加到-componentsjson",text:"3.4 把 componentname 添加到 components.json",depth:3},{id:"35-把-componentnamescss-添加到-indexscss",text:"3.5 把 componentname.scss 添加到 index.scss",depth:3},{id:"36-把-componentnamedts-添加到-element-uidts",text:"3.6 把 componentname.d.ts 添加到 element-ui.d.ts",depth:3},{id:"37-创建-package",text:"3.7 创建 package",depth:3},{id:"38-把新增的组件添加到-navconfigjson",text:"3.8 把新增的组件添加到 nav.config.json",depth:3},{id:"4-总结",text:"4. 总结",depth:2}],title:"每次新增页面复制粘贴？100多行源码的 element-ui 新增组件功能告诉你减少重复工作",headingTitle:"每次新增页面复制粘贴？100多行源码的 element-ui 新增组件功能告诉你减少重复工作",frontmatter:{highlight:"darcula",theme:"smartblue"}}},20713:function(e,n,s){s.d(n,{Z:()=>l});var r=s(52676),i=s(75271),c=s(92815);s(18544);let t={"zh-CN":e=>`\u{9884}\u{8BA1}\u{9605}\u{8BFB}\u{65F6}\u{95F4}: ${e.minutes>=1?`${Math.ceil(e.minutes)} \u{5206}\u{949F}`:"小于 1 分钟"}`,"en-US":e=>`Estimated reading time: ${e.minutes>=1?`${Math.ceil(e.minutes)} minutes`:"less than 1 minute"}`};function a(e,n,s){let r=Object.keys(t).includes(n)?n:s;return t[r](e)}let l=e=>{let{defaultLocale:n="en-US"}=e,s=(0,c.Vi)().page.readingTimeData,t=(0,c.Jr)(),l=(0,c.e7)(),[o,d]=(0,i.useState)(a(s,t,n));return(0,i.useEffect)(()=>{d(a(s,t,n))},[t,s]),(0,r.jsx)("span",{"data-dark":String(l),className:"rp-reading-time",children:o})}}}]);